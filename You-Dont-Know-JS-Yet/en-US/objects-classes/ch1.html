<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.38">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <title>Chapter 1: Object Foundations | You Don't Know JS Yet</title><meta name="description" content="">
    <link rel="modulepreload" href="/You-Dont-Know-JS-Yet/assets/app.cb0ee471.js"><link rel="modulepreload" href="/You-Dont-Know-JS-Yet/assets/ch1.html.47d23d65.js"><link rel="modulepreload" href="/You-Dont-Know-JS-Yet/assets/ch1.html.463e1028.js">
    <link rel="stylesheet" href="/You-Dont-Know-JS-Yet/assets/style.71ef2d3d.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header ref_key="navbar" class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/You-Dont-Know-JS-Yet/en-US/" class=""><!----><span class="site-name">You Don&#39;t Know JS Yet</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a href="/You-Dont-Know-JS-Yet/en-US/preface.html" class="" aria-label="Preface"><!--[--><!--]--> Preface <!--[--><!--]--></a></div><div class="navbar-item"><a href="/You-Dont-Know-JS-Yet/en-US/get-started/" class="" aria-label="Get Started"><!--[--><!--]--> Get Started <!--[--><!--]--></a></div><div class="navbar-item"><a href="/You-Dont-Know-JS-Yet/en-US/scope-closures/" class="" aria-label="Scope &amp; Closures"><!--[--><!--]--> Scope &amp; Closures <!--[--><!--]--></a></div><div class="navbar-item"><a href="/You-Dont-Know-JS-Yet/en-US/objects-classes/" class="router-link-active" aria-label="Objects &amp; Classes"><!--[--><!--]--> Objects &amp; Classes <!--[--><!--]--></a></div><div class="navbar-item"><a href="/You-Dont-Know-JS-Yet/en-US/types-grammar/" class="" aria-label="Types &amp; Grammar"><!--[--><!--]--> Types &amp; Grammar <!--[--><!--]--></a></div><div class="navbar-item"><a href="/You-Dont-Know-JS-Yet/en-US/sync-async/" class="" aria-label="Sync &amp; Async"><!--[--><!--]--> Sync &amp; Async <!--[--><!--]--></a></div><div class="navbar-item"><a href="/You-Dont-Know-JS-Yet/en-US/es-next-beyond/" class="" aria-label="ES.Next &amp; Beyond"><!--[--><!--]--> ES.Next &amp; Beyond <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Select language"><span class="title">Languages</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Select language"><span class="title">Languages</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/You-Dont-Know-JS-Yet/objects-classes/ch1.html" class="" aria-label="简体中文"><!--[--><!--]--> 简体中文 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a aria-current="page" href="/You-Dont-Know-JS-Yet/en-US/objects-classes/ch1.html" class="router-link-active router-link-exact-active router-link-active" aria-label="English"><!--[--><!--]--> English <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><!--]--></nav><!--[--><!--]--><button class="toggle-dark-button" title="toggle dark mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a href="/You-Dont-Know-JS-Yet/en-US/preface.html" class="" aria-label="Preface"><!--[--><!--]--> Preface <!--[--><!--]--></a></div><div class="navbar-item"><a href="/You-Dont-Know-JS-Yet/en-US/get-started/" class="" aria-label="Get Started"><!--[--><!--]--> Get Started <!--[--><!--]--></a></div><div class="navbar-item"><a href="/You-Dont-Know-JS-Yet/en-US/scope-closures/" class="" aria-label="Scope &amp; Closures"><!--[--><!--]--> Scope &amp; Closures <!--[--><!--]--></a></div><div class="navbar-item"><a href="/You-Dont-Know-JS-Yet/en-US/objects-classes/" class="router-link-active" aria-label="Objects &amp; Classes"><!--[--><!--]--> Objects &amp; Classes <!--[--><!--]--></a></div><div class="navbar-item"><a href="/You-Dont-Know-JS-Yet/en-US/types-grammar/" class="" aria-label="Types &amp; Grammar"><!--[--><!--]--> Types &amp; Grammar <!--[--><!--]--></a></div><div class="navbar-item"><a href="/You-Dont-Know-JS-Yet/en-US/sync-async/" class="" aria-label="Sync &amp; Async"><!--[--><!--]--> Sync &amp; Async <!--[--><!--]--></a></div><div class="navbar-item"><a href="/You-Dont-Know-JS-Yet/en-US/es-next-beyond/" class="" aria-label="ES.Next &amp; Beyond"><!--[--><!--]--> ES.Next &amp; Beyond <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Select language"><span class="title">Languages</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Select language"><span class="title">Languages</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/You-Dont-Know-JS-Yet/objects-classes/ch1.html" class="" aria-label="简体中文"><!--[--><!--]--> 简体中文 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a aria-current="page" href="/You-Dont-Know-JS-Yet/en-US/objects-classes/ch1.html" class="router-link-active router-link-exact-active router-link-active" aria-label="English"><!--[--><!--]--> English <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><a href="/You-Dont-Know-JS-Yet/en-US/objects-classes/foreword.html" class="sidebar-item sidebar-heading" aria-label="Foreword"><!--[--><!--]--> Foreword <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/You-Dont-Know-JS-Yet/en-US/objects-classes/ch1.html" class="router-link-active router-link-exact-active router-link-active sidebar-item sidebar-heading active" aria-label="Chapter 1: Object Foundations"><!--[--><!--]--> Chapter 1: Object Foundations <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/You-Dont-Know-JS-Yet/en-US/objects-classes/ch1.html#about-this-book" class="router-link-active router-link-exact-active sidebar-item" aria-label="About This Book"><!--[--><!--]--> About This Book <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/You-Dont-Know-JS-Yet/en-US/objects-classes/ch1.html#objects-as-containers" class="router-link-active router-link-exact-active sidebar-item" aria-label="Objects As Containers"><!--[--><!--]--> Objects As Containers <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/You-Dont-Know-JS-Yet/en-US/objects-classes/ch1.html#defining-properties" class="router-link-active router-link-exact-active sidebar-item" aria-label="Defining Properties"><!--[--><!--]--> Defining Properties <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/You-Dont-Know-JS-Yet/en-US/objects-classes/ch1.html#looks-like-json" class="router-link-active router-link-exact-active sidebar-item" aria-label="Looks Like JSON?"><!--[--><!--]--> Looks Like JSON? <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/You-Dont-Know-JS-Yet/en-US/objects-classes/ch1.html#property-names" class="router-link-active router-link-exact-active sidebar-item" aria-label="Property Names"><!--[--><!--]--> Property Names <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/You-Dont-Know-JS-Yet/en-US/objects-classes/ch1.html#symbols-as-property-names" class="router-link-active router-link-exact-active sidebar-item" aria-label="Symbols As Property Names"><!--[--><!--]--> Symbols As Property Names <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/You-Dont-Know-JS-Yet/en-US/objects-classes/ch1.html#concise-properties" class="router-link-active router-link-exact-active sidebar-item" aria-label="Concise Properties"><!--[--><!--]--> Concise Properties <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/You-Dont-Know-JS-Yet/en-US/objects-classes/ch1.html#concise-methods" class="router-link-active router-link-exact-active sidebar-item" aria-label="Concise Methods"><!--[--><!--]--> Concise Methods <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/You-Dont-Know-JS-Yet/en-US/objects-classes/ch1.html#object-spread" class="router-link-active router-link-exact-active sidebar-item" aria-label="Object Spread"><!--[--><!--]--> Object Spread <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/You-Dont-Know-JS-Yet/en-US/objects-classes/ch1.html#deep-object-copy" class="router-link-active router-link-exact-active sidebar-item" aria-label="Deep Object Copy"><!--[--><!--]--> Deep Object Copy <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><a aria-current="page" href="/You-Dont-Know-JS-Yet/en-US/objects-classes/ch1.html#accessing-properties" class="router-link-active router-link-exact-active sidebar-item" aria-label="Accessing Properties"><!--[--><!--]--> Accessing Properties <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/You-Dont-Know-JS-Yet/en-US/objects-classes/ch1.html#object-entries" class="router-link-active router-link-exact-active sidebar-item" aria-label="Object Entries"><!--[--><!--]--> Object Entries <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/You-Dont-Know-JS-Yet/en-US/objects-classes/ch1.html#destructuring" class="router-link-active router-link-exact-active sidebar-item" aria-label="Destructuring"><!--[--><!--]--> Destructuring <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/You-Dont-Know-JS-Yet/en-US/objects-classes/ch1.html#conditional-property-access" class="router-link-active router-link-exact-active sidebar-item" aria-label="Conditional Property Access"><!--[--><!--]--> Conditional Property Access <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/You-Dont-Know-JS-Yet/en-US/objects-classes/ch1.html#accessing-properties-on-non-objects" class="router-link-active router-link-exact-active sidebar-item" aria-label="Accessing Properties On Non-Objects"><!--[--><!--]--> Accessing Properties On Non-Objects <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><a aria-current="page" href="/You-Dont-Know-JS-Yet/en-US/objects-classes/ch1.html#assiging-properties" class="router-link-active router-link-exact-active sidebar-item" aria-label="Assiging Properties"><!--[--><!--]--> Assiging Properties <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/You-Dont-Know-JS-Yet/en-US/objects-classes/ch1.html#deleting-properties" class="router-link-active router-link-exact-active sidebar-item" aria-label="Deleting Properties"><!--[--><!--]--> Deleting Properties <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/You-Dont-Know-JS-Yet/en-US/objects-classes/ch1.html#determining-container-contents" class="router-link-active router-link-exact-active sidebar-item" aria-label="Determining Container Contents"><!--[--><!--]--> Determining Container Contents <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/You-Dont-Know-JS-Yet/en-US/objects-classes/ch1.html#better-existence-check" class="router-link-active router-link-exact-active sidebar-item" aria-label="Better Existence Check"><!--[--><!--]--> Better Existence Check <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/You-Dont-Know-JS-Yet/en-US/objects-classes/ch1.html#listing-all-container-contents" class="router-link-active router-link-exact-active sidebar-item" aria-label="Listing All Container Contents"><!--[--><!--]--> Listing All Container Contents <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><a aria-current="page" href="/You-Dont-Know-JS-Yet/en-US/objects-classes/ch1.html#temporary-containers" class="router-link-active router-link-exact-active sidebar-item" aria-label="Temporary Containers"><!--[--><!--]--> Temporary Containers <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/You-Dont-Know-JS-Yet/en-US/objects-classes/ch1.html#containers-are-collections-of-properties" class="router-link-active router-link-exact-active sidebar-item" aria-label="Containers Are Collections Of Properties"><!--[--><!--]--> Containers Are Collections Of Properties <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><a href="/You-Dont-Know-JS-Yet/en-US/objects-classes/ch2.html" class="sidebar-item sidebar-heading" aria-label="Chapter 2: How Objects Work"><!--[--><!--]--> Chapter 2: How Objects Work <!--[--><!--]--></a><!----></li><li><a href="/You-Dont-Know-JS-Yet/en-US/objects-classes/ch3" class="sidebar-item sidebar-heading" aria-label="/en-US/objects-classes/ch3"><!--[--><!--]--> /en-US/objects-classes/ch3 <!--[--><!--]--></a><!----></li><li><a href="/You-Dont-Know-JS-Yet/en-US/objects-classes/ch4" class="sidebar-item sidebar-heading" aria-label="/en-US/objects-classes/ch4"><!--[--><!--]--> /en-US/objects-classes/ch4 <!--[--><!--]--></a><!----></li><li><a href="/You-Dont-Know-JS-Yet/en-US/objects-classes/ch5" class="sidebar-item sidebar-heading" aria-label="/en-US/objects-classes/ch5"><!--[--><!--]--> /en-US/objects-classes/ch5 <!--[--><!--]--></a><!----></li><li><a href="/You-Dont-Know-JS-Yet/en-US/objects-classes/apA" class="sidebar-item sidebar-heading" aria-label="/en-US/objects-classes/apA"><!--[--><!--]--> /en-US/objects-classes/apA <!--[--><!--]--></a><!----></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><h1 id="chapter-1-object-foundations" tabindex="-1"><a class="header-anchor" href="#chapter-1-object-foundations" aria-hidden="true">#</a> Chapter 1: Object Foundations</h1><table><thead><tr><th style="text-align:left;">NOTE:</th></tr></thead><tbody><tr><td style="text-align:left;">Work in progress</td></tr></tbody></table><blockquote><p>Everything in JS is an object.</p></blockquote><p>This is one of the most pervasive, but most incorrect, &quot;facts&quot; that perpetually circulates about JS. Let the myth busting commence.</p><p>JS definitely has objects, but that doesn&#39;t mean that all values are objects. Nevertheless, objects are arguably the most important (and varied!) value type in the language, so mastering them is critical to your JS journey.</p><p>The object mechanism is certainly the most flexible and powerful container type -- something you put other values into; every JS program you write will use them in one way or another. But that&#39;s not why objects deserve top billing for this book. Objects are the the foundation for the second of JS&#39;s three pillars: the prototype.</p><p>Why are prototypes so core to JS as to be one of its three pillars? Among other things, prototypes are how JS&#39;s object system can express the class design pattern, one of the most widely relied on design patterns in all of programming.</p><p>So our journey here will start with objects, build up a compelete understanding of prototypes, de-mystify the <code>this</code> keyword, and explore the <code>class</code> system.</p><h2 id="about-this-book" tabindex="-1"><a class="header-anchor" href="#about-this-book" aria-hidden="true">#</a> About This Book</h2><p>Welcome to book 3 in the <em>You Don&#39;t Know JS Yet</em> series! If you already finished <em>Get Started</em> (the first book) and <em>Scope &amp; Closures</em> (the second book), you&#39;re in the right spot! If not, before you proceed I encourage you to read those two as foundations before diving into this book.</p><p>The first edition of this book is titled, &quot;this &amp; Object Prototypes&quot;. In that book, our focus started with the <code>this</code> keyword, as it&#39;s arguably one of the most confused topics in all of JS. The book then spent the majority of its time focused on expositing the prototype system and advocating for embrace of the lesser-known &quot;delegation&quot; pattern instead of class designs. At the time of that book&#39;s writing (2014), ES6 would still be almost 2 years to its completion, so I felt the early sketches of the <code>class</code> keyword only merited a brief addendum of coverage.</p><p>It&#39;s quite an understatement to say a lot has changed in the JS landscape in the almost 8 years since that book. ES6 is old news now; at the time of <em>this</em> book&#39;s writing, JS has seen 6 (soon to be 7!) yearly updates <strong>after ES6</strong> (ES2016 through ES2021, soon ES2022).</p><p>Now, we still need to talk about how <code>this</code> works, and how that relates to methods invoked against various objects. And <code>class</code> actually operates (mostly!) via the prototype chain deep under the covers. But JS developers in 2022 are almost never writing code to explicitly wire up prototypal inheritance anymore. And as much as I personally wish differently, class design patterns -- not &quot;behavior delegation&quot; -- are how the majority of data and behavior organization (data structures) in JS are expressed.</p><p>This book reflects JS&#39;s current reality: thus the new sub-title, new organization and focus of topics, and complete re-write of the previous edition&#39;s text.</p><h2 id="objects-as-containers" tabindex="-1"><a class="header-anchor" href="#objects-as-containers" aria-hidden="true">#</a> Objects As Containers</h2><p>One common way of gathering up multiple values in a single container is with an object. Objects are collections of key/value pairs. There are also sub-types of object in JS with specialized behaviors, such as arrays (numerically indexed) and even functions (callable); more on these sub-types later.</p><table><thead><tr><th style="text-align:left;">NOTE:</th></tr></thead><tbody><tr><td style="text-align:left;">Keys are often referred to as &quot;property names&quot;, with the pairing of a property name and a value often called a &quot;property&quot;. This book will use those terms distinctly in that manner.</td></tr></tbody></table><p>Regular JS objects are typically declared with literal syntax, like this:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>myObj <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token comment">// ..</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>Note:</strong> There&#39;s an alternate way to create an object (using <code>myObj = new Object()</code>), but this is not common or preferred, and is almost never the appropriate way to go about it. Stick with object literal syntax.</p><p>It&#39;s easy to get confused what pairs of <code>{ .. }</code> mean, since JS overloads the curly brackets to mean any of the following, depending on the context used:</p><ul><li>delimit values, like object literals</li><li>define object destructuring patterns (more on this later)</li><li>delimit interpolated string expressions, like <code>`some ${ getNumber() } thing`</code></li><li>define blocks, like on <code>if</code> and <code>for</code> loops</li><li>define function bodies</li></ul><p>Though it can sometimes be challenging as you read code, look for whether a <code>{ .. }</code> curly brace pair is used in the program where a value/expression is valid to appear; if so, it&#39;s an object literal, otherwise it&#39;s one of the other overloaded uses.</p><h2 id="defining-properties" tabindex="-1"><a class="header-anchor" href="#defining-properties" aria-hidden="true">#</a> Defining Properties</h2><p>Inside the object literal curly braces, you define properties (name and value) with <code>propertyName: propertyValue</code> pairs, like this:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>myObj <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">favoriteNumber</span><span class="token operator">:</span> <span class="token number">42</span><span class="token punctuation">,</span>
    <span class="token literal-property property">isDeveloper</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token literal-property property">firstName</span><span class="token operator">:</span> <span class="token string">&quot;Kyle&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>The values you assign to the properties can be literals, as shown, or can be computed by expression:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">twenty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token number">20</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

myObj <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">favoriteNumber</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token function">twenty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>The expression <code>(twenty() + 1) * 2</code> is evaluated immediately, with the result (<code>42</code>) assigned as the property value.</p><p>Developers sometimes wonder if there&#39;s a way to define an expression for a property value where the expression is &quot;lazy&quot;, meaning it&#39;s not computed at the time of assignment, but defined later. JS does not have lazy expressions, so the only way to do so is for the expression to be wrapped in a function:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">twenty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token number">20</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">myNumber</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token function">twenty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

myObj <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">favoriteNumber</span><span class="token operator">:</span> myNumber   <span class="token comment">// notice, NOT `myNumber()` as a function call</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>In this case, <code>favoriteNumber</code> is not holding a numeric value, but rather a function reference. To compute the result, that function reference must be explicitly executed.</p><h3 id="looks-like-json" tabindex="-1"><a class="header-anchor" href="#looks-like-json" aria-hidden="true">#</a> Looks Like JSON?</h3><p>You may notice that this object-literal syntax resembles &quot;JSON&quot; (JavaScript Object Notation):</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;favoriteNumber&quot;</span><span class="token operator">:</span> <span class="token number">42</span><span class="token punctuation">,</span>
    <span class="token property">&quot;isDeveloper&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;firstName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Kyle&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>The biggest differences between object literals and JSON are:</p><ol><li><p>property names must be quoted with <code>&quot;</code> double-quote characters</p></li><li><p>property values must be literals (either primitives, objects, or arrays), not arbitrary JS expressions</p></li></ol><p>In JS programs, an object literal does not require quoted property names -- you <em>can</em> quote them (<code>&#39;</code> or <code>&quot;</code> allowed), but it&#39;s usually optional. There are however characters that are valid in a property name, but which cannot be included without surrounding quotes; for example, leading numbers or whitespace:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>myObj <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">favoriteNumber</span><span class="token operator">:</span> <span class="token number">42</span><span class="token punctuation">,</span>
    <span class="token literal-property property">isDeveloper</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token literal-property property">firstName</span><span class="token operator">:</span> <span class="token string">&quot;Kyle&quot;</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;2 nicknames&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token string">&quot;getify&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ydkjs&quot;</span> <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="property-names" tabindex="-1"><a class="header-anchor" href="#property-names" aria-hidden="true">#</a> Property Names</h3><p>Property names in object literals are almost always treated/coeced as string values. One exception to this is for numeric (or &quot;numeric looking&quot;) property &quot;names&quot;:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>anotherObj <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token number">42</span><span class="token operator">:</span> <span class="token string">&quot;&lt;-- this property name will remain a number&quot;</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;41&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&lt;-- this property name will be coerced to a number&quot;</span><span class="token punctuation">,</span>
    <span class="token boolean">true</span><span class="token operator">:</span> <span class="token string">&quot;&lt;-- this property name will be converted to a string&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">myObj</span><span class="token operator">:</span> <span class="token string">&quot;&lt;-- ...and so will this one&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>The <code>42</code> property name will remain a number, and the <code>&quot;41&quot;</code> string value will be coerced to a numeric property name since it <em>looks like</em> a number. By contrast, the <code>true</code> value will become the string property name <code>&quot;true&quot;</code>, and the <code>myObj</code> identifier reference will coerce the object&#39;s value to a string (generally the default <code>&quot;[object Object]&quot;</code>).</p><table><thead><tr><th style="text-align:left;">WARNING:</th></tr></thead><tbody><tr><td style="text-align:left;">If you need to actually use an object as a key/property name, never rely on this string coercion; its behavior is surprising and almost certainly not what&#39;s expected, so program bugs are likely to occur. Instead, use a more specialized data structure, called a <code>Map</code> (added in ES6), where objects used as property &quot;names&quot; are left as-is instead of being coerced to a string value.</td></tr></tbody></table><p>You can also <em>compute</em> the <strong>property name</strong> (distinct from computing the property value) at the time of object literal definition:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>anotherObj <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token string">&quot;x&quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token number">21</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>The expression <code>&quot;x&quot; + (21 * 2)</code>, which must appear inside of <code>[ .. ]</code> brackets, is computed immediately, and the result (<code>&quot;x42&quot;</code>) is used as the property name.</p><h3 id="symbols-as-property-names" tabindex="-1"><a class="header-anchor" href="#symbols-as-property-names" aria-hidden="true">#</a> Symbols As Property Names</h3><p>ES6 added a new primitive value type of <code>Symbol</code>, which is often used as a special property name for storing and retieving property values. They&#39;re created via the <code>Symbol(..)</code> function call (<strong>without</strong> the <code>new</code> keyword), which accepts an optional description string used only for friendlier debugging purposes; if specified, the description is inaccessible to the JS program and thus not used for any other purpose than debug output.</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>myPropSymbol <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">&quot;optional, developer-friendly description&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><table><thead><tr><th style="text-align:left;">NOTE:</th></tr></thead><tbody><tr><td style="text-align:left;">Symbols are sort of like numbers or strings, except that their value is <em>opaque</em> to, and globally unique within, the JS program. In other words, you can create and use symbols, but JS doesn&#39;t let you know anything about, or do anything with, the underlying value; that&#39;s kept as a hidden implementation detail by the JS engine.</td></tr></tbody></table><p>Computed property names, as previously described, are how to define a symbol property name on an object literal:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>myPropSymbol <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">&quot;optional, developer-friendly description&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

anotherObj <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token punctuation">[</span>myPropSymbol<span class="token punctuation">]</span><span class="token operator">:</span> <span class="token string">&quot;Hello, symbol!&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>The computed property name used to define the property on <code>anotherObj</code> will be the actual primitive symbol value (whatever it is), not the optional description string (<code>&quot;optional, developer-friendly description&quot;</code>).</p><p>Because symbols are globally unique in your program, there&#39;s <strong>no</strong> chance of accidental collision where one part of the program might accidentally define a property name the same as another part of the program tried defined/assigned.</p><p>Symbols are also useful to hook into special default behaviors of objects, and we&#39;ll cover that in more detail in &quot;Extending the MOP&quot; in the next chapter.</p><h3 id="concise-properties" tabindex="-1"><a class="header-anchor" href="#concise-properties" aria-hidden="true">#</a> Concise Properties</h3><p>When defining an object literal, it&#39;s common to use a property name that&#39;s the same as an existing in-scope identifier that holds the value you want to assign.</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>coolFact <span class="token operator">=</span> <span class="token string">&quot;the first person convicted of speeding was going 8 mph&quot;</span><span class="token punctuation">;</span>

anotherObj <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">coolFact</span><span class="token operator">:</span> coolFact
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><table><thead><tr><th style="text-align:left;">NOTE:</th></tr></thead><tbody><tr><td style="text-align:left;">That would have been the same thing as the quoted property name definition <code>&quot;coolFact&quot;: coolFact</code>, but JS developers rarely quote property names unless strictly necessary. Indeed, it&#39;s idiomatic to avoid the quotes unless required, so it&#39;s discouraged to include them unneccessarily.</td></tr></tbody></table><p>In this situation, where the property name and value expression identifier are identical, you can omit the property-name portion of the property definition, as a so-called &quot;concise property&quot; definition:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>coolFact <span class="token operator">=</span> <span class="token string">&quot;the first person convicted of speeding was going 8 mph&quot;</span><span class="token punctuation">;</span>

anotherObj <span class="token operator">=</span> <span class="token punctuation">{</span>
    coolFact   <span class="token comment">// &lt;-- concise property short-hand</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>The property name is <code>&quot;coolFact&quot;</code> (string), and the value assigned to the property is what&#39;s in the <code>coolFact</code> variable at that moment: <code>&quot;the first person convicted of speeding was going 8 mph&quot;</code>.</p><p>At first, this shorthand convenience may seem confusing. But as you get more familiar with seeing this very common and popular feature being used, you&#39;ll likely favor it for typing (and reading!) less.</p><h3 id="concise-methods" tabindex="-1"><a class="header-anchor" href="#concise-methods" aria-hidden="true">#</a> Concise Methods</h3><p>Another similar shorthand is defining functions/methods in an object literal using a more concise form:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>anotherObj <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token comment">// standard function property</span>
    <span class="token function-variable function">greet</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Hello!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token comment">// concise function/method property</span>
    <span class="token function">greet2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Hello, friend!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>While we&#39;re on the topic of concise method properties, we can also define generator functions (another ES6 feature):</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>anotherObj <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token comment">// instead of:</span>
    <span class="token comment">//   greet3: function*() { yield &quot;Hello, everyone!&quot;; }</span>

    <span class="token comment">// concise generator method</span>
    <span class="token operator">*</span><span class="token function">greet3</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">yield</span> <span class="token string">&quot;Hello, everyone!&quot;</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>And though it&#39;s not particularly common, concise methods/generators can even have quoted or computed names:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>anotherObj <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;greet-4&quot;</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Hello, audience!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token comment">// concise computed name</span>
    <span class="token punctuation">[</span> <span class="token string">&quot;gr&quot;</span> <span class="token operator">+</span> <span class="token string">&quot;eet 5&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Hello, audience!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token comment">// concise computed generator name</span>
    <span class="token operator">*</span><span class="token punctuation">[</span> <span class="token string">&quot;ok, greet 6&quot;</span><span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">yield</span> <span class="token string">&quot;Hello, audience!&quot;</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="object-spread" tabindex="-1"><a class="header-anchor" href="#object-spread" aria-hidden="true">#</a> Object Spread</h3><p>Another way to define properties at object literal creation time is with a form of the <code>...</code> syntax -- it&#39;s not technically an operator, but it certainly seems like one -- often referred to as &quot;object spread&quot;.</p><p>The <code>...</code> when used inside an object literal will &quot;spread&quot; out the contents (properties, aka key/value pairs) of another object value into the object being defined:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>anotherObj <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">favoriteNumber</span><span class="token operator">:</span> <span class="token number">12</span><span class="token punctuation">,</span>

    <span class="token operator">...</span>myObj<span class="token punctuation">,</span>   <span class="token comment">// object spread, shallow copies `myObj`</span>

    <span class="token literal-property property">greeting</span><span class="token operator">:</span> <span class="token string">&quot;Hello!&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>The spreading of <code>myObj</code>&#39;s properties is shallow, in that it only copies the top-level properties from <code>myObj</code>; any values those properties hold are simply assigned over. If any of those values are references to other objects, the references themselves are assigned (by copy), but the underlying object values are <em>not</em> duplicated -- so you end up with multiple shared references to the same object(s).</p><p>You can think of object spreading like a <code>for</code> loop that runs through the properties one at a time and does an <code>=</code> style assignment from the source object (<code>myObj</code>) to the target object (<code>anotherObj</code>).</p><p>Also, consider these property definition operations to happen &quot;in order&quot;, from top to bottom of the object literal. In the above snippet, since <code>myObj</code> has a <code>favoriteNumber</code> property, the object spread will end up overwriting the <code>favoriteNumber: 12</code> property assignment from the previous line. Moreover, if <code>myObj</code> had contained a <code>greeting</code> property that was copied over, the next line (<code>greeting: &quot;Hello!&quot;</code>) would override that property definition.</p><table><thead><tr><th style="text-align:left;">NOTE:</th></tr></thead><tbody><tr><td style="text-align:left;">Object spread also only copies <em>owned</em> properties (those directly on the object) that are <em>enumerable</em> (allowed to be enumerated/listed). It does not duplicate the property -- as in, actually mimic the property&#39;s exact characteristics -- but rather do a simple assignment style copy. We&#39;ll cover more such details in the &quot;Property Descriptors&quot; section of the next chapter.</td></tr></tbody></table><p>A common way <code>...</code> object spread is used is for performing <em>shallow</em> object duplication:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>myObjShallowCopy <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token operator">...</span>myObj <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>Keep in mind you cannot <code>...</code> spread into an existing object value; the <code>...</code> object spread syntax can only appear inside the <code>{ .. }</code> object literal, which is creating a new object value. To perform a similar shallow object copy but with APIs instead of syntax, see the &quot;Object Entries&quot; section later in this chapter (with coverage of <code>Object.entries(..)</code> and <code>Object.fromEntries(..)</code>).</p><p>But if you instead want to copy object properties (shallowly) into an <em>existing</em> object, see the &quot;Assigning Properties&quot; section later in this chapter (with coverage of <code>Object.assign(..)</code>).</p><h3 id="deep-object-copy" tabindex="-1"><a class="header-anchor" href="#deep-object-copy" aria-hidden="true">#</a> Deep Object Copy</h3><p>Also, since <code>...</code> doesn&#39;t do full, deep object duplication, the object spread is generally only suitable for duplicating objects that hold simple, primitive values only, not references to other objects.</p><p>Deep object duplication is an incredibly complex and nuanced operation. Duplicating a value like <code>42</code> is obvious and straightforward, but what does it mean to copy a function (which is a special kind of object, also held by reference), or to copy an external (not entirely in JS) object reference, such as a DOM element? And what happens if an object has circular references (like where a nested descendant object holds a reference back up to an outer ancestor object)? There&#39;s a variety of opinions in the wild about how all these corner cases should be handled, and thus no single standard exists for deep object duplication.</p><p>For deep object duplication, the standard approaches have been:</p><ol><li><p>Use a library utility that declares a specific opinion on how the duplication behaviors/nuances should be handled.</p></li><li><p>Use the <code>JSON.parse(JSON.stringify(..))</code> round-trip trick -- this only &quot;works&quot; correctly if there are no circular references, and if there are no values in the object that cannot be properly serialized with JSON (such as functions).</p></li></ol><p>Recently, though, a third option has landed. This is not a JS feature, but rather a companion API provided to JS by environments like the web platform. Objects can be deep copied now using <code>structuredClone(..)</code>[^stucturedClone].</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>myObjCopy <span class="token operator">=</span> <span class="token function">structuredClone</span><span class="token punctuation">(</span>myObj<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>The underlying algorithm behind this built-in utility supports duplicating circular references, as well as <strong>many more</strong> types of values than the <code>JSON</code> round-trip trick. However, this algorithm still has its limits, including no support for cloning functions or DOM elements.</p><h2 id="accessing-properties" tabindex="-1"><a class="header-anchor" href="#accessing-properties" aria-hidden="true">#</a> Accessing Properties</h2><p>Property access of an existing object is preferably done with the <code>.</code> operator:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>myObj<span class="token punctuation">.</span>favoriteNumber<span class="token punctuation">;</span>    <span class="token comment">// 42</span>
myObj<span class="token punctuation">.</span>isDeveloper<span class="token punctuation">;</span>       <span class="token comment">// true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>If it&#39;s possible to access a property this way, it&#39;s strongly suggested to do so.</p><p>If the property name contains characters that cannot appear in identifiers, such as leading numbers or whitespace, <code>[ .. ]</code> brackets can be used instead of the <code>.</code>:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>myObj<span class="token punctuation">[</span><span class="token string">&quot;2 nicknames&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token comment">// [ &quot;getify&quot;, &quot;ydkjs&quot; ]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>anotherObj<span class="token punctuation">[</span><span class="token number">42</span><span class="token punctuation">]</span><span class="token punctuation">;</span>          <span class="token comment">// &quot;&lt;-- this property name will...&quot;</span>
anotherObj<span class="token punctuation">[</span><span class="token string">&quot;41&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token comment">// &quot;&lt;-- this property name will...&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>Even though numeric property &quot;names&quot; remain as numbers, property access via the <code>[ .. ]</code> brackets will coerce a string representation to a number (e.g., <code>&quot;42&quot;</code> as the <code>42</code> numeric equivalent), and then access the associated numeric property accordingly.</p><p>Similar to the object literal, the property name to access can be computed via the <code>[ .. ]</code> brackets. The expression can be a simple identifier:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>propName <span class="token operator">=</span> <span class="token string">&quot;41&quot;</span><span class="token punctuation">;</span>
anotherObj<span class="token punctuation">[</span>propName<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>Actually, what you put between the <code>[ .. ]</code> brackets can be any arbitrary JS expression, not just identifiers or literal values like <code>42</code> or <code>&quot;isDeveloper&quot;</code>. JS will first evaluate the expression, and the resulting value will then be used as the property name to look up on the object:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">howMany</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> x <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

myObj<span class="token punctuation">[</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span> <span class="token function">howMany</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> nicknames</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">]</span><span class="token punctuation">;</span>   <span class="token comment">// [ &quot;getify&quot;, &quot;ydkjs&quot; ]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>In this snippet, the expression is a back-tick delimited <code>`template string literal`</code> with an interpolated expression of the function call <code>howMany(1)</code>. The overall result of that expression is the string value <code>&quot;2 nicknames&quot;</code>, which is then used as the property name to access.</p><h3 id="object-entries" tabindex="-1"><a class="header-anchor" href="#object-entries" aria-hidden="true">#</a> Object Entries</h3><p>You can get a listing of the properties in an object, as an array of tuples (two-element sub-arrays) holding the property name and value:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>myObj <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">favoriteNumber</span><span class="token operator">:</span> <span class="token number">42</span><span class="token punctuation">,</span>
    <span class="token literal-property property">isDeveloper</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token literal-property property">firstName</span><span class="token operator">:</span> <span class="token string">&quot;Kyle&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>myObj<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// [ [&quot;favoriteNumber&quot;,42], [&quot;isDeveloper&quot;,true], [&quot;firstName&quot;,&quot;Kyle&quot;] ]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>Added in ES6, <code>Object.entries(..)</code> retieves this list of entries -- containing only owned an enumerable properties; see the &quot;Property Descriptors&quot; section in the next chapter -- from a source object.</p><p>Such a list can be looped/iterated over, potentially assigning properties to another existing object. However, it&#39;s also possible to create a new object from a list of entries, using <code>Object.fromEntries(..)</code> (added in ES2019):</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>myObjShallowCopy <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">fromEntries</span><span class="token punctuation">(</span> Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>myObj<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// alternate approach to the earlier discussed:</span>
<span class="token comment">// myObjShallowCopy = { ...myObj };</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="destructuring" tabindex="-1"><a class="header-anchor" href="#destructuring" aria-hidden="true">#</a> Destructuring</h3><p>Another approach to accessing properties is through object destructuring (added in ES6). Think of destructuring as defining a &quot;pattern&quot; that describes what an object value is supposed to &quot;look like&quot; (structurally), and then asking JS to follow that &quot;pattern&quot; to systematically access the contents of an object value.</p><p>The end result of object destructuring is not another object, but rather one or more assignments to other targets (variables, etc) of the values from the source object.</p><p>Imagine this sort of pre-ES6 code:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>myObj <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">favoriteNumber</span><span class="token operator">:</span> <span class="token number">42</span><span class="token punctuation">,</span>
    <span class="token literal-property property">isDeveloper</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token literal-property property">firstName</span><span class="token operator">:</span> <span class="token string">&quot;Kyle&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> favoriteNumber <span class="token operator">=</span> <span class="token punctuation">(</span>
    myObj<span class="token punctuation">.</span>favoriteNumber <span class="token operator">!==</span> <span class="token keyword">undefined</span> <span class="token operator">?</span> myObj<span class="token punctuation">.</span>favoriteNumber <span class="token operator">:</span> <span class="token number">42</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> isDev <span class="token operator">=</span> myObj<span class="token punctuation">.</span>favoriteNumber<span class="token punctuation">;</span>
<span class="token keyword">const</span> firstName <span class="token operator">=</span> myObj<span class="token punctuation">.</span>firstName<span class="token punctuation">;</span>
<span class="token keyword">const</span> lname <span class="token operator">=</span> <span class="token punctuation">(</span>
    myObj<span class="token punctuation">.</span>lastName <span class="token operator">!==</span> <span class="token keyword">undefined</span> <span class="token operator">?</span> myObj<span class="token punctuation">.</span>lastName <span class="token operator">:</span> <span class="token string">&quot;--missing--&quot;</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>Those accesses of the property values, and assignments to other identifiers, is generally called &quot;manual destructuring&quot;. To use the declarative object destructuring syntax, it might look like this:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>myObj <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">favoriteNumber</span><span class="token operator">:</span> <span class="token number">42</span><span class="token punctuation">,</span>
    <span class="token literal-property property">isDeveloper</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token literal-property property">firstName</span><span class="token operator">:</span> <span class="token string">&quot;Kyle&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token punctuation">{</span> favoriteNumber <span class="token operator">=</span> <span class="token number">12</span> <span class="token punctuation">}</span> <span class="token operator">=</span> myObj<span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">isDeveloper</span><span class="token operator">:</span> isDev<span class="token punctuation">,</span>
    <span class="token literal-property property">firstName</span><span class="token operator">:</span> firstName<span class="token punctuation">,</span>
    <span class="token literal-property property">lastName</span><span class="token operator">:</span> lname <span class="token operator">=</span> <span class="token string">&quot;--missing--&quot;</span>
<span class="token punctuation">}</span> <span class="token operator">=</span> myObj<span class="token punctuation">;</span>

favoriteNumber<span class="token punctuation">;</span>   <span class="token comment">// 42</span>
isDev<span class="token punctuation">;</span>            <span class="token comment">// true</span>
firstName<span class="token punctuation">;</span>        <span class="token comment">// &quot;Kyle&quot;</span>
lname<span class="token punctuation">;</span>            <span class="token comment">// &quot;--missing--&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>As shown, the <code>{ .. }</code> object destucturing resembles an object literal value definition, but it appears on the left-hand side of the <code>=</code> operator rather than on the right-hand side where an object value expression would appear. That makes the <code>{ .. }</code> on the left-hand side a destructuring pattern rather than another object definition.</p><p>The <code>{ favoriteNumber } = myObj</code> destructuring tells JS to find a property named <code>favoriteNumber</code> on the object, and to assign its value to an identifier of the same name. The single instance of the <code>favoriteNumber</code> identifier in the pattern is similar to &quot;concise properties&quot; as discussed earlier in this chapter: if the source (property name) and target (identifier) are the same, you can omit one of them and only list it once.</p><p>The <code>= 12</code> part tells JS to provide <code>12</code> as a default value for the assignment to <code>favoriteNumber</code>, if the source object either doesn&#39;t have a <code>favoriteNumber</code> property, or if the property holds an <code>undefined</code> value.</p><p>In the second destructuring pattern, the <code>isDeveloper: isDev</code> pattern is instructing JS to find a property named <code>isDeveloper</code> on the source object, and assign its value to an identifier named <code>isDev</code>. It&#39;s sort of a &quot;renaming&quot; of the source to the target. By contrast, <code>firstName: firstName</code> is providing the source and target for an assignment, but is redundant since they&#39;re identical; a single <code>firstName</code> would have sufficed here, and is generally more preferred.</p><p>The <code>lastName: lname = &quot;--missing--&quot;</code> combines both source-target renaming and a default value (if the <code>lastName</code> source property is missing or <code>undefined</code>).</p><p>The above snippet combines object destructuring with variable declarations -- in this example, <code>const</code> is used, but <code>var</code> and <code>let</code> work as well -- but it&#39;s not inherently a declaration mechanism. Destructuring is about access and assignment (source to target), so it can operate against existing targets rather than declaring new ones:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> fave<span class="token punctuation">;</span>

<span class="token comment">// surrounding ( ) are required syntax here,</span>
<span class="token comment">// when a declarator is not used</span>
<span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">favoriteNumber</span><span class="token operator">:</span> fave <span class="token punctuation">}</span> <span class="token operator">=</span> myObj<span class="token punctuation">)</span><span class="token punctuation">;</span>

fave<span class="token punctuation">;</span>  <span class="token comment">// 42</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>Object destructuring syntax is generally preferred for its declarative and more readable style, over the heavily imperative pre-ES6 equivalents. But don&#39;t go overboard with destructuring. Sometimes just doing <code>x = someObj.x</code> is perfectly fine!</p><h3 id="conditional-property-access" tabindex="-1"><a class="header-anchor" href="#conditional-property-access" aria-hidden="true">#</a> Conditional Property Access</h3><p>Recently (in ES2020), a feature known as &quot;optional chaining&quot; was added to JS, which augments property access capabilities (especially nested property access). The primary form is the two-character compound operator <code>?.</code>, like <code>A?.B</code>.</p><p>This operator will check the left-hand side reference (<code>A</code>) to see if it&#39;s null&#39;ish (<code>null</code> or <code>undefined</code>). If so, the rest of the property access expression is short-circuited (skipped), and <code>undefined</code> is returned as the result (even if it was <code>null</code> that was actually encountered!). Otherwise, <code>?.</code> will access the property just as a normal <code>.</code> operator would.</p><p>For example:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>myObj<span class="token operator">?.</span>favoriteNumber
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>Here, the null&#39;ish check is performed against the <code>myObj</code>, meaning that the <code>favoriteNumber</code> property access is only performed if the value in <code>myObj</code> is non-null&#39;ish. Note that it doesn&#39;t verify that <code>myObj</code> is actually holding a real object, only that it&#39;s non-nullish. However, all non-nullish values can &quot;safely&quot; (no JS exception) be &quot;accessed&quot; via the <code>.</code> operator, even if there&#39;s no matching property to retrieve.</p><p>It&#39;s easy to get confused into thinking that the null&#39;ish check is against the <code>favoriteNumber</code> property. But one way to keep it straight is to remember that the <code>?</code> is on the side where the safety check is performed, while the <code>.</code> is on the side that is only conditionally evaluated if the non-null&#39;ish check passes.</p><p>Typically, the <code>?.</code> operator is used in nested property accesses that may be 3 or more levels deep, such as:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>myObj<span class="token operator">?.</span>address<span class="token operator">?.</span>city
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>The equivalent operation with the <code>?.</code> operator would look like this:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">(</span>myObj <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> myObj<span class="token punctuation">.</span>address <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token operator">?</span> myObj<span class="token punctuation">.</span>address<span class="token punctuation">.</span>city <span class="token operator">:</span> <span class="token keyword">undefined</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>Again, remember that no check has been performed against the right-most property (<code>city</code>) here.</p><p>Also, the <code>?.</code> should not universally be used in place of every single <code>.</code> operator in your programs. You should endeavor to know if a <code>.</code> property access will succeed or not before making the access, whenever possible. Use <code>?.</code> only when the nature of the values being accessed is subject to conditions that cannot be predicted/controlled.</p><p>For example, in the previous snippet, the <code>myObj?.</code> usage is probably mis-guided, because it really shouldn&#39;t be the case that you start a chain of property access against a variable that might not even hold a top-level object (aside from its contents potentially missing certain properties in certain conditions).</p><p>Instead, I would recommend usage more like this:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>myObj<span class="token punctuation">.</span>address<span class="token operator">?.</span>city
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>And that expression should only be used in part of your program where you&#39;re sure that <code>myObj</code> is at least holding a valid object (whether or not it has an <code>address</code> property with a sub-object in it).</p><p>Another form of the &quot;optional chaining&quot; operator is <code>?.[</code>, which is used when the property access you want to make conditional/safe requires a <code>[ .. ]</code> bracket.</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>myObj<span class="token punctuation">[</span><span class="token string">&quot;2 nicknames&quot;</span><span class="token punctuation">]</span><span class="token operator">?.</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>   <span class="token comment">// &quot;getify&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>Everything asserted about how <code>?.</code> behaves goes the same for <code>?.[</code>.</p><table><thead><tr><th style="text-align:left;">WARNING:</th></tr></thead><tbody><tr><td style="text-align:left;">There&#39;s a third form of this feature, named &quot;optional call&quot;, which uses <code>?.(</code> as the operator. It&#39;s used for performing a non-null&#39;ish check on a property before executing the function value in the property. For example, instead of <code>myObj.someFunc(42)</code>, you can do <code>myObj.someFunc?.(42)</code>. The <code>?.(</code> checks to make sure <code>myObj.someFunc</code> is non-null&#39;ish before invoking it (with the <code>(42)</code> part). While that may sound like a useful feature, I think this is dangerous enough to warrant complete avoidance of this form/construct.<br><br>My concern is that <code>?.(</code> makes it seem as if we&#39;re ensuring that the function is &quot;callable&quot; before calling it, when in fact we&#39;re only checking if it&#39;s non-null&#39;ish. Unlike <code>?.</code> which can allow a &quot;safe&quot; <code>.</code> access against a non-null&#39;ish value that&#39;s also not an object, the <code>?.(</code> non-null&#39;ish check isn&#39;t similarly &quot;safe&quot;. If the property in question has any non-null&#39;ish, non-function value in it, like <code>true</code> or <code>&quot;Hello&quot;</code>, the <code>(42)</code> call part will be invoked and yet throw a JS exception. So in other words, this form is unfortunately masquerading as more &quot;safe&quot; than it actually is, and should thus be avoided in essentially all circumstances. If a property value can ever <em>not be</em> a function, do a more fullsome check for its function&#39;ness before trying to invoke it. Don&#39;t pretend that <code>?.(</code> is doing that for you, or future readers/maintainers of your code (including your future self!) will likely regret it.</td></tr></tbody></table><h3 id="accessing-properties-on-non-objects" tabindex="-1"><a class="header-anchor" href="#accessing-properties-on-non-objects" aria-hidden="true">#</a> Accessing Properties On Non-Objects</h3><p>This may sound counter-intuitive, but you can generally access properties/methods from values that aren&#39;t themselves objects:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>fave <span class="token operator">=</span> <span class="token number">42</span><span class="token punctuation">;</span>

fave<span class="token punctuation">;</span>              <span class="token comment">// 42</span>
fave<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// &quot;42&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>Here, <code>fave</code> holds a primitive <code>42</code> number value. So how can we do <code>.toString</code> to access a property from it, and then <code>()</code> to invoke the function held in that property?</p><p>This is a tremendously more indepth topic than we&#39;ll get into in this book; see book 4, &quot;Types &amp; Grammar&quot;, of this series for more. However, as a quick glimpse: if you perform a property access (<code>.</code> or <code>[ .. ]</code>) against a non-object, non-null&#39;ish value, JS will by default (temporarily!) coerce the value into an object-wrapped representation, allowing the property access against that implicitly instantiated object.</p><p>This process is typically called &quot;boxing&quot;, as in putting a value inside a &quot;box&quot; (object container).</p><p>So in the above snippet, just for the moment that <code>.toString</code> is being accessed on the <code>42</code> value, JS will box this value into a <code>Number</code> object, and then perform the property access.</p><p>Note that <code>null</code> and <code>undefined</code> can be object-ified, by calling <code>Object(null)</code> / <code>Object(undefined)</code>. However, JS does not automatically box these null&#39;ish values, so property access against them will fail (as discussed earlier in the &quot;Conditional Property Access&quot; section).</p><table><thead><tr><th style="text-align:left;">NOTE:</th></tr></thead><tbody><tr><td style="text-align:left;">Boxing has a counterpart: unboxing. For example, the JS engine will take an object wrapper -- like a <code>Number</code> object wrapped around <code>42</code> -- created with <code>Number(42)</code> or <code>Object(42)</code> -- and unwrap it to retrieve the underlying primitive <code>42</code>, whenever a mathematical operation (like <code>*</code> or <code>-</code>) encounters such an object. Unboxing behavior is way out of scope for our discussion, but is covered fully in the aforementioned &quot;Types &amp; Grammar&quot; title.</td></tr></tbody></table><h2 id="assiging-properties" tabindex="-1"><a class="header-anchor" href="#assiging-properties" aria-hidden="true">#</a> Assiging Properties</h2><p>Whether a property is defined at the time of object literal definition, or added later, the assignment of a property value is done with the <code>=</code> operator, as any other normal assignment would be:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>myObj<span class="token punctuation">.</span>favoriteNumber <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>If the <code>favoriteNumber</code> property doesn&#39;t already exist, that statement will create a new property of that name and assign its value. But if it already exists, that statement will re-assign its value.</p><table><thead><tr><th style="text-align:left;">WARNING:</th></tr></thead><tbody><tr><td style="text-align:left;">An <code>=</code> assignment to a property may fail (silently or throwing an exception), or it may not directly assign the value but instead invoke a <em>setter</em> function that performs some operation(s). More details on these behaviors in the next chapter.</td></tr></tbody></table><p>It&#39;s also possible to assign one or more properties at once -- assuming the source properties (name and value pairs) are in another object -- using the <code>Object.assign(..)</code> (added in ES6) method:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// shallow copy all (owned and enumerable) properties</span>
<span class="token comment">// from `myObj` into `anotherObj`</span>
Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>anotherObj<span class="token punctuation">,</span>myObj<span class="token punctuation">)</span><span class="token punctuation">;</span>

Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>
    <span class="token comment">/*target=*/</span>anotherObj<span class="token punctuation">,</span>
    <span class="token comment">/*source1=*/</span><span class="token punctuation">{</span>
        <span class="token literal-property property">someProp</span><span class="token operator">:</span> <span class="token string">&quot;some value&quot;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">anotherProp</span><span class="token operator">:</span> <span class="token number">1001</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">/*source2=*/</span><span class="token punctuation">{</span>
        <span class="token literal-property property">yetAnotherProp</span><span class="token operator">:</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p><code>Object.assign(..)</code> takes the first object as target, and the second (and optionally subsequent) object(s) as source(s). Copying is done in the same manner as described earlier in the &quot;Object Spread&quot; section.</p><h2 id="deleting-properties" tabindex="-1"><a class="header-anchor" href="#deleting-properties" aria-hidden="true">#</a> Deleting Properties</h2><p>Once a property is defined on an object, the only way to remove it is with the <code>delete</code> operator:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>anotherObj <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">counter</span><span class="token operator">:</span> <span class="token number">123</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

anotherObj<span class="token punctuation">.</span>counter<span class="token punctuation">;</span>   <span class="token comment">// 123</span>

<span class="token keyword">delete</span> anotherObj<span class="token punctuation">.</span>counter<span class="token punctuation">;</span>

anotherObj<span class="token punctuation">.</span>counter<span class="token punctuation">;</span>   <span class="token comment">// undefined</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>Contrary to common misconception, the JS <code>delete</code> operator does <strong>not</strong> directly do any deallocation/freeing up of memory, through garbage collection (GC). The only thing it does is remove a property from an object. If the value in the property was a reference (to another object/etc), and there are no other surviving references to that value once the property is removed, that value would likely then be eligible for removal in a future sweep of the GC.</p><p>Calling <code>delete</code> on anything other than an object property is a misuse of the <code>delete</code> operator, and will either fail silently (in non-strict mode) or throw an exception (in strict mode).</p><p>Deleting a property from an object is distinct from assigning it a value like <code>undefined</code> or <code>null</code>. A property assigned <code>undefined</code>, either initially or later, is still present on the object, and might still be revealed when enumerating the contents</p><h2 id="determining-container-contents" tabindex="-1"><a class="header-anchor" href="#determining-container-contents" aria-hidden="true">#</a> Determining Container Contents</h2><p>You can determine an object&#39;s contents in a variety of ways. To ask an object if it has a specific property:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>myObj <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">favoriteNumber</span><span class="token operator">:</span> <span class="token number">42</span><span class="token punctuation">,</span>
    <span class="token literal-property property">coolFact</span><span class="token operator">:</span> <span class="token string">&quot;the first person convicted of speeding was going 8 mph&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">beardLength</span><span class="token operator">:</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span>
    <span class="token literal-property property">nicknames</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token string">&quot;getify&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ydkjs&quot;</span> <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token string">&quot;favoriteNumber&quot;</span> <span class="token keyword">in</span> myObj<span class="token punctuation">;</span>            <span class="token comment">// true</span>

myObj<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span><span class="token string">&quot;coolFact&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">// true</span>
myObj<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span><span class="token string">&quot;beardLength&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// true</span>

myObj<span class="token punctuation">.</span>nicknames <span class="token operator">=</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>
myObj<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span><span class="token string">&quot;nicknames&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// true</span>

<span class="token keyword">delete</span> myObj<span class="token punctuation">.</span>nicknames<span class="token punctuation">;</span>
myObj<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span><span class="token string">&quot;nicknames&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// false</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>There <em>is</em> an important difference between how the <code>in</code> operator and the <code>hasOwnProperty(..)</code> method behave. The <code>in</code> operator will check not only the target object specified, but if not found there, it will also consult the object&#39;s <code>[[Prototype]]</code> chain (covered in the next chapter). By contrast, <code>hasOwnProperty(..)</code> only consults the target object.</p><p>If you&#39;re paying close attention, you may have noticed that <code>myObj</code> appears to have a method property called <code>hasOwnProperty(..)</code> on it, even though we didn&#39;t define such. That&#39;s because <code>hasOwnProperty(..)</code> is defined as a built-in on <code>Object.prototype</code>, which by default is &quot;inherited by&quot; all normal objects. There is risk inherent to accessing such an &quot;inherited&quot; method, though. Again, more on prototypes in the next chapter.</p><h3 id="better-existence-check" tabindex="-1"><a class="header-anchor" href="#better-existence-check" aria-hidden="true">#</a> Better Existence Check</h3><p>ES2022 (almost official at time of writing) has already settled on a new feature, <code>Object.hasOwn(..)</code>. It does essentially the same thing as <code>hasOwnProperty(..)</code>, but it&#39;s invoked as a static helper external to the object value instead of via the object&#39;s <code>[[Prototype]]</code>, making it safer and more consistent in usage:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// instead of:</span>
myObj<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span><span class="token string">&quot;favoriteNumber&quot;</span><span class="token punctuation">)</span>

<span class="token comment">// we should now prefer:</span>
Object<span class="token punctuation">.</span><span class="token function">hasOwn</span><span class="token punctuation">(</span>myObj<span class="token punctuation">,</span><span class="token string">&quot;favoriteNumber&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>Even though (at time of writing) this feature is just now emerging in JS, there are polyfills that make this API available in your programs even when running in a previous JS environment that doesn&#39;t yet have the feature defined. For example, a quick stand-in polyfill sketch:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// simple polyfill sketch for `Object.hasOwn(..)`</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>Object<span class="token punctuation">.</span>hasOwn<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    Object<span class="token punctuation">.</span><span class="token function-variable function">hasOwn</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token function">hasOwn</span><span class="token punctuation">(</span><span class="token parameter">obj<span class="token punctuation">,</span>propName</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span>propName<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>Including a polyfill patch such as that in your program means you can safely start using <code>Object.hasOwn(..)</code> for property existence checks no matter whether a JS environment has <code>Object.hasOwn(..)</code> built in yet or not.</p><h3 id="listing-all-container-contents" tabindex="-1"><a class="header-anchor" href="#listing-all-container-contents" aria-hidden="true">#</a> Listing All Container Contents</h3><p>We already discussed the <code>Object.entries(..)</code> API earlier, which tells us what properties an object has (as long as they&#39;re enumerable -- more in the next chapter).</p><p>There&#39;s a variety of other mechanisms available, as well. <code>Object.keys(..)</code> gives us list of the enumerable property names (aka, keys) in an object -- names only, no values; <code>Object.values(..)</code> instead gives us list of all values held in enumerable properties.</p><p>But what if we wanted to get <em>all</em> the keys in an object (enumerable or not)? <code>Object.getOwnPropertyNames(..)</code> seems to do what we want, in that it&#39;s like <code>Object.keys(..)</code> but also returns non-enumerable property names. However, this list <strong>will not</strong> include any Symbol property names, as those are treated as special locations on the object. <code>Object.getOwnPropertySymbols(..)</code> returns all of an object&#39;s Symbol properties. So if you concatenate both of those lists together, you&#39;d have all the direct (<em>owned</em>) contents of an object.</p><p>Yet as we&#39;ve implied several times already, and will cover in full detail in the next chapter, an object also can also &quot;inherit&quot; contents from its <code>[[Prototype]]</code> chain. These are not considered <em>owned</em> contents, so they won&#39;t show up in any of these lists.</p><p>Recall that the <code>in</code> operator will potentially traverse the entire chain looking for the existence of a property. Similarly, a <code>for..in</code> loop will traverse the chain and list any enumerable (owned or inhertied) properties. But there&#39;s no built-in API that will traverse the whole chain and return a list of the combined set of both <em>owned</em> and <em>inherited</em> contents.</p><h2 id="temporary-containers" tabindex="-1"><a class="header-anchor" href="#temporary-containers" aria-hidden="true">#</a> Temporary Containers</h2><p>Using a container to hold multiple values is sometimes just a temporary transport mechanism, such as when you want to pass multiple values to a function via a single argument, or when you want a function to return multiple values:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">formatValues</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> one<span class="token punctuation">,</span> two<span class="token punctuation">,</span> three <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// the actual object passed in as an</span>
    <span class="token comment">// argument is not accessible, since</span>
    <span class="token comment">// we destructured it into three</span>
    <span class="token comment">// separate variables</span>

    one <span class="token operator">=</span> one<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    two <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">--</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>two<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">--</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
    three <span class="token operator">=</span> three<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// this object is only to transport</span>
    <span class="token comment">// all three values in a single</span>
    <span class="token comment">// return statement</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span> one<span class="token punctuation">,</span> two<span class="token punctuation">,</span> three <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// destructuring the return value from</span>
<span class="token comment">// the function, because that returned</span>
<span class="token comment">// object is just a temporary container</span>
<span class="token comment">// to transport us multiple values</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> one<span class="token punctuation">,</span> two<span class="token punctuation">,</span> three <span class="token punctuation">}</span> <span class="token operator">=</span>

    <span class="token comment">// this object argument is a temporary</span>
    <span class="token comment">// transport for multiple input values</span>
    <span class="token function">formatValues</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
       <span class="token literal-property property">one</span><span class="token operator">:</span> <span class="token string">&quot;Kyle&quot;</span><span class="token punctuation">,</span>
       <span class="token literal-property property">two</span><span class="token operator">:</span> <span class="token string">&quot;Simpson&quot;</span>
       <span class="token literal-property property">three</span><span class="token operator">:</span> <span class="token string">&quot;getify&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

one<span class="token punctuation">;</span>     <span class="token comment">// &quot;KYLE&quot;</span>
two<span class="token punctuation">;</span>     <span class="token comment">// &quot;--Simpson--&quot;</span>
three<span class="token punctuation">;</span>   <span class="token comment">// &quot;getif&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div><p>The object literal passed into <code>formatValues(..)</code> is immediately parameter destructured, so inside the function we only deal with three separate variables (<code>one</code>, <code>two</code>, and <code>three</code>). The object literal <code>return</code>ed from the function is also immediately destructured, so again we only deal with three separate variables (<code>one</code>, <code>two</code>, <code>three</code>).</p><p>This snippet illustrates the idiom/pattern that an object is sometimes just a temporary transport container rather than a meaningful value in and of itself.</p><h2 id="containers-are-collections-of-properties" tabindex="-1"><a class="header-anchor" href="#containers-are-collections-of-properties" aria-hidden="true">#</a> Containers Are Collections Of Properties</h2><p>The most common usage of objects is as containers for multiple values. We create and manage property container objects by:</p><ul><li>defining properties (named locations), either at object creation time or later</li><li>assigning values, either at object creation time or later</li><li>accessing values later, using the location names (property names)</li><li>deleteing properties via <code>delete</code></li><li>determining container contents with <code>in</code>, <code>hasOwnProperty(..)</code> / <code>hasOwn(..)</code>, <code>Object.entries(..)</code> / <code>Object.keys(..)</code>, etc</li></ul><p>But there&#39;s a lot more to objects than just static collections of property names and values. In the next chapter, we&#39;ll dive under the hood to look at how they actually work.</p><p>[^structuredClone]: &quot;Structured Clone Algorithm&quot;, HTML Specification, https://html.spec.whatwg.org/multipage/structured-data.html#structured-cloning</p><!--]--></div><footer class="page-meta"><!----><!----><!----></footer><nav class="page-nav"><p class="inner"><span class="prev"><a href="/You-Dont-Know-JS-Yet/en-US/objects-classes/foreword.html" class="" aria-label="Foreword"><!--[--><!--]--> Foreword <!--[--><!--]--></a></span><span class="next"><a href="/You-Dont-Know-JS-Yet/en-US/objects-classes/ch2.html" class="" aria-label="Chapter 2: How Objects Work"><!--[--><!--]--> Chapter 2: How Objects Work <!--[--><!--]--></a></span></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/You-Dont-Know-JS-Yet/assets/app.cb0ee471.js" defer></script>
  </body>
</html>
